webpackJsonp([1],{"1Y76":function(t,e){},"45bu":function(t,e){},Dgtu:function(t,e){},JMwU:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),r={data:()=>({greeting:"Welcome to the Banner Page!"}),name:"App"},i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wrapper",attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var s=n("VU/8")(r,i,!1,function(t){n("45bu")},null,null).exports,o=n("/ocq"),c=n("mtWM"),l=n.n(c),d=l.a.create({baseURL:"http://localhost:8080/api",headers:{"Content-type":"application/json"}}),h={name:"banners-list",data:()=>({banners:[{id:1,width:400,height:200,imgsrc:"/static/img/acura.jpg",langid:"Russion",targeturl:"http://www.yandex.ru"}]}),methods:{retrieveBanners(){d.get("/showAllBanners").then(t=>{this.banners=t.data,console.log(t.data)}).catch(t=>{console.log(t)})},refreshList(){this.retrieveBanners()},showWindow(){$(".descBanner").show()}},mounted(){this.retrieveBanners()}},u={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list row"},[n("div",{staticClass:"col-md-6"},[n("h4",[t._v("Banners List")]),t._v(" "),n("ul",t._l(t.banners,function(e,a){return n("li",{key:a},[n("router-link",{attrs:{to:{name:"banner-details",params:{banner:e,id:e.id}}}},[n("div",{staticClass:"banner",attrs:{align:"center"},on:{click:function(e){t.showWindow()}}},[n("a",{attrs:{href:e.targeturl}},[n("img",{attrs:{width:e.width,height:e.height,src:e.imgsrc}})])])])],1)}))]),t._v(" "),n("div",{staticClass:"col-md-6"},[n("router-view",{on:{refreshData:t.refreshList}})],1)])},staticRenderFns:[]};var v=n("VU/8")(h,u,!1,function(t){n("Dgtu")},"data-v-61805fe8",null).exports,p={name:"banner",props:["banner"],methods:{updateActive(t){var e={id:this.banner.id,imgsrc:this.banner.imgsrc,width:this.banner.width,height:this.banner.height,targeturl:this.banner.targeturl,langid:this.banner.langid,active:t};d.put("/banner/"+this.banner.id,e).then(t=>{this.banner.active=t.data.active,console.log(t.data)}).catch(t=>{console.log(t)})},deleteBanner(){d.delete("/banner/"+this.banner.id).then(t=>{console.log(t.data),this.$emit("refreshData"),this.$router.push("/")}).catch(t=>{console.log(t)})},hideWindow(){$(".descBanner").hide()}}},g={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return this.banner?a("div",[a("div",{staticClass:"descBanner",attrs:{align:"center"}},[a("h4",[t._v("Banner "+t._s(this.banner.id))]),t._v(" "),a("img",{attrs:{src:n("kgbk"),alt:"X"},on:{click:function(e){t.hideWindow()}}}),t._v(" "),a("div",[a("label",[t._v("Site: "),a("a",{attrs:{href:this.banner.targeturl}},[t._v(t._s(this.banner.targeturl))])]),t._v(" "),a("br"),t._v(" "),a("label",[t._v("Language: ")]),t._v(" "+t._s(this.banner.langid)+"\n        ")])])]):a("div",[t._m(0)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"descBanner",attrs:{align:"center"}},[e("br"),this._v(" "),e("p",[this._v("Please click on a Banner...")])])}]};n("VU/8")(p,g,!1,function(t){n("1Y76")},"data-v-2c06bc76",null).exports;var m={data:()=>({greeting:"Welcome to the Admin Page!"}),name:"admin",props:["admin"],methods:{doSmth(){}}},f={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wrapperForFooter"},[e("app-header",{attrs:{msg:this.greeting}}),this._v(" "),e("div",{staticClass:"content"},[e("br"),this._v(" "),e("router-view")],1),this._v(" "),e("app-footer")],1)},staticRenderFns:[]};var _=n("VU/8")(m,f,!1,function(t){n("xnzJ")},"data-v-0d0f18b0",null).exports,b={name:"index",data:()=>({greeting:"Welcome to the Banner Page!",authority:"",profile:frontendData.profile}),methods:{getAuthority(){console.log("RESPONSE: "),http.get("/getAuthority").then(t=>{console.log(t.data)}).catch(t=>{console.log(t)})},getAuthority2(){var t=JSON.parse(profile);return authority=t.authorities[0].authority,authority}}},w={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapperForFooter"},[n("app-header",{attrs:{msg:t.greeting}}),t._v(" "),n("div",{staticClass:"content"},[t.profile?t._e():n("div",[t._v("Необходимо авторизоваться")]),t._v("\n            "+t._s(t.profile)+"\n\n            "),"ROLE_admin"===t.authority?n("router-link",{attrs:{to:"/admin"}}):t._e(),t._v(" "),"ROLE_user"===t.authority?n("router-link",{attrs:{to:"/"}}):t._e(),t._v(" "),n("router-link",{staticClass:"btn btn-primary",attrs:{to:"/admin"}},[t._v("Admin")]),t._v(" "),n("br"),t._v(" "),n("router-view")],1),t._v(" "),n("app-footer")],1)},staticRenderFns:[]};var C=n("VU/8")(b,w,!1,function(t){n("eRrl")},"data-v-09e9de10",null).exports;a.a.use(o.a);var x=new o.a({mode:"history",routes:[{path:"/",name:"index",components:C,BannersList:v},{path:"/admin",name:"admin",component:_}]}),y={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"footer"},[this._v("\n    © 2018 Все права защищены.\n")])},staticRenderFns:[]};var B=n("VU/8")(null,y,!1,function(t){n("JMwU")},"data-v-7df093c0",null).exports,R={props:["msg"],data:()=>({})},E={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header featurebox col-md-12 col-sm-12 col-xs-12"},[e("div",{staticClass:"row",attrs:{align:"center"}},[e("div",{staticClass:"name col-md-10 col-sm-10 col-xs-10"},[e("p",{staticClass:"mainText"},[this._v(this._s(this.msg))])]),this._v(" "),this._m(0)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loginBlock col-md-2 col-sm-2 col-xs-2"},[e("form",{attrs:{method:"POST",action:"/login"}},[e("button",{staticClass:"login",attrs:{type:"submit"}},[e("img",{attrs:{src:n("hreQ"),alt:"Login"}})])])])}]};var k=n("VU/8")(R,E,!1,function(t){n("aJtV")},"data-v-16cf32d2",null).exports,A=n("Rf8U"),F=n.n(A);a.a.use(F.a,l.a),a.a.config.productionTip=!1,a.a.component("app-header",k),a.a.component("app-footer",B),new a.a({el:"#app",router:x,components:{App:s},template:"<App/>"}),l.a.get("http://localhost:8080/api/getAuthority").then(t=>{console.log("RESPONSE"),console.log(t.data),"admin"===t.data&&(alert("admin"),$(location).attr("href","http://localhost:8080/admin"))})},aJtV:function(t,e){},eRrl:function(t,e){},hreQ:function(t,e,n){t.exports=n.p+"static/img/login.jpg"},kgbk:function(t,e,n){t.exports=n.p+"static/img/cross.png"},xnzJ:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.7048eec96bb0c688171f.js.map